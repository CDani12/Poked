(this["webpackJsonppoke-api"]=this["webpackJsonppoke-api"]||[]).push([[0],{17:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(18),s=n.n(r),i=n(4),o=n(8),l=n(2),j=Object(a.createContext)(null),u=n(0),b=function(){var e=Object(a.useContext)(j).setUsuario;return Object(u.jsxs)("nav",{className:"navbar navbar-default navbar-fixed-top navbar-expand-lg navbar-dark bg-dark",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/",children:"PokeDex"}),Object(u.jsx)("button",{className:"navbar-toggler ",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(u.jsx)("li",{className:"nav-item active",children:Object(u.jsx)(o.b,{className:"nav-link",to:"/categorias",children:"Categorias"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.b,{className:"nav-link",to:"/perfil",children:"Perfil"})})]}),Object(u.jsx)("button",{onClick:function(){e({isAuthenticated:!1,nombre:"",email:""})},className:"btn btn-outline-danger my-2 my-sm-0",children:"Logout"})]})]})},d=function(e){var t=Object(a.useState)({load:!0,data:[]}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){return s.current=!1}}),[]),Object(a.useEffect)((function(){r({load:!0,data:[]}),fetch(e).then((function(e){return e.json()})).then((function(e){return r({load:!1,data:e})}))}),[e]),c},m=function(e){var t=e.tipo,n=e.mensaje;return Object(u.jsx)("div",{className:"text-center alert alert-".concat(t),style:{width:"100%"},children:n})},O=function(e){var t=e.id;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{className:"card-img-top",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/".concat(t,".svg"),alt:"pokemon"})})},x=function(e){var t=e.id,n=d("https://pokeapi.co/api/v2/pokemon/".concat(t,"/")),a=n.data,c=n.load;return Object(u.jsx)("div",{className:"card-img-top",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:" Tipo de Pokemon:"}),c?Object(u.jsx)("span",{children:"Cargando..."}):a.types.map((function(e,t){var n;return Object(u.jsx)("li",{children:null===(n=e.type)||void 0===n?void 0:n.name},t)}))]})})},p=function(e){var t=e.name,n=e.pokeUrl,c=Object(a.useState)(!0),r=Object(i.a)(c,2),s=r[0],o=r[1],l=n.split("/")[6];return Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsxs)("div",{className:"card",children:[s?Object(u.jsx)(O,{id:l}):Object(u.jsx)(x,{id:l}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("button",{onClick:function(){return o(!s)},className:"btn btn-success btn-block",children:t})})]})})},h=function(e){var t=e.results,n=Object(a.useState)(0),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"row",children:0===t.length?Object(u.jsx)(m,{tipo:"warning",mensaje:"No hay resultados"}):t.slice(r,r+6).map((function(e,t){return Object(u.jsx)(p,{name:e.name,pokeUrl:e.url},t)}))}),Object(u.jsxs)("div",{className:"text-center",children:[r>0&&Object(u.jsx)("button",{onClick:function(){return s((function(e){return e-6}))},className:"btn btn-outline-warning btn-margen",children:"Back"}),t.length>9&&Object(u.jsx)("button",{onClick:function(){return s((function(e){return e+6}))},className:"btn btn-outline-primary btn-margen",children:"Next"})]})]})},v=function(e){var t=e.nombre,n=e.setBusqueda;return Object(u.jsx)("div",{style:{margin:"10px"},children:Object(u.jsx)("form",{className:"form-inline my-2 my-lg-0",children:Object(u.jsx)("input",{onChange:function(e){var t=e.target;return n({nombre:t.value.toLowerCase()})},value:t,autoComplete:"false",className:"form-control mr-sm-2",type:"search",placeholder:"Buscar pokemon","aria-label":"Search"})})})},f=(n(34),function(){var e=d("https://pokeapi.co/api/v2/pokemon?limit=1100"),t=e.load,n=e.data,c=Object(a.useState)({nombre:""}),r=Object(i.a)(c,2),s=r[0].nombre,o=r[1];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(v,{nombre:s,setBusqueda:o}),t?Object(u.jsx)(m,{tipo:"primary",mensaje:"Cargando..."}):Object(u.jsx)(h,{results:""===s?n.results:n.results.filter((function(e){return e.name.includes(s)}))})]})}),g=function(){var e=Object(a.useContext)(j).usuario;return Object(u.jsx)("div",{className:"container text-center",style:{top:"30%"},children:JSON.stringify(e,null,3)})},N=n(12),k=n(10),C=function(e){var t=Object(a.useState)(e),n=Object(i.a)(t,2),c=n[0],r=n[1];return[c,function(e){var t=e.target;r(Object(k.a)(Object(k.a)({},c),{},Object(N.a)({},t.name,t.value)))},function(){return r(e)}]},y=(n(17),function(){var e=Object(a.useContext)(j).setUsuario,t=C({isAuthenticated:!0,email:"",password:""}),n=Object(i.a)(t,3),c=n[0],r=n[1],s=n[2],l=Object(a.useState)(!1),b=Object(i.a)(l,2),d=b[0],m=b[1],O=c.email,x=c.password;return Object(u.jsx)("div",{className:"contenedor",children:Object(u.jsxs)("div",{className:"form-container",children:[Object(u.jsx)("h1",{children:"Welcome"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),"invitado@gmail.com"===O?e({isAuthenticated:!0,nombre:"Invitado",email:O}):(m(!0),setTimeout((function(){return m(!1)}),2e3)),s()},children:[Object(u.jsx)("input",{onChange:r,value:O,name:"email",type:"text",placeholder:"Email",className:"".concat(d&&"hasError"),required:!0}),d&&Object(u.jsx)("div",{className:"mensaje-error",children:"Error! Correo o contrase\xf1a incorrecto "}),Object(u.jsx)("input",{onChange:r,value:x,name:"password",type:"password",placeholder:"Password",required:!0}),Object(u.jsx)("button",{type:"submit",children:"Iniciar sesion"})]}),Object(u.jsxs)("span",{className:"registro-nuevo",children:["registrarse ",Object(u.jsx)(o.b,{to:"/register",children:"aqui"})]})]})})}),w=n(20),S=["component"],A=function(e){var t=e.component,n=Object(w.a)(e,S),c=Object(a.useContext)(j).usuario;return Object(u.jsx)(l.b,Object(k.a)(Object(k.a)({},n),{},{render:function(e){return c.isAuthenticated?Object(u.jsx)(t,Object(k.a)({},e)):Object(u.jsx)(l.a,{to:"/login"})}}))},q=function(){var e=Object(a.useContext)(j).setUsuario,t=C({nombre:"",email:"",password:""}),n=Object(i.a)(t,3),c=n[0],r=n[1],s=n[2],l=c.nombre,b=c.email,d=c.password;return Object(u.jsx)("div",{className:"contenedor",children:Object(u.jsxs)("div",{className:"form-container",children:[Object(u.jsx)("h1",{children:"Registrate gratis"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({isAuthenticated:!0,nombre:l,email:b}),s()},children:[Object(u.jsx)("input",{onChange:r,value:l,name:"nombre",type:"text",required:!0,placeholder:"Nombre"}),Object(u.jsx)("input",{onChange:r,value:b,name:"email",type:"text",required:!0,placeholder:"Email"}),Object(u.jsx)("input",{onChange:r,value:d,name:"password",type:"password",required:!0,placeholder:"Password"}),Object(u.jsx)("button",{type:"submit",children:"entrar"})]}),Object(u.jsx)("span",{children:Object(u.jsx)(o.b,{to:"/login",children:"Ya tengo cuenta"})})]})})},E=function(){var e=Object(a.useContext)(j).usuario;return Object(u.jsxs)(o.a,{children:[e.isAuthenticated&&Object(u.jsx)(b,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsxs)(l.b,{exact:!0,path:"/",children:[" ",Object(u.jsx)(l.a,{to:"/login"})," "]}),Object(u.jsx)(l.b,{exact:!0,path:"/login",children:e.isAuthenticated?Object(u.jsx)(l.a,{to:"/categorias"}):Object(u.jsx)(y,{})}),Object(u.jsx)(l.b,{exact:!0,path:"/register",children:e.isAuthenticated?Object(u.jsx)(l.a,{to:"/categorias"}):Object(u.jsx)(q,{})}),Object(u.jsx)(A,{exact:!0,path:"/categorias",component:f}),Object(u.jsx)(A,{exact:!0,path:"/perfil",component:g}),Object(u.jsxs)(l.b,{path:"**",children:[" ",Object(u.jsx)(l.a,{to:"/categorias"})," "]})]})]})};var P=function(){var e=localStorage.getItem("auth"),t=Object(a.useState)(JSON.parse(e)||{isAuthenticated:!1,nombre:"",correo:""}),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){localStorage.setItem("auth",JSON.stringify(c))}),[c]),Object(u.jsx)(j.Provider,{value:{usuario:c,setUsuario:r},children:Object(u.jsx)(E,{})})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.77b87e3c.chunk.js.map